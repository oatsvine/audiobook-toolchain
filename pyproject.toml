[build-system]
requires = ["setuptools>=65", "wheel"]
build-backend = "setuptools.build_meta"

[project]
name = "audiobook-toolchain"
version = "0.1.0"
description = "Cue-driven audiobook toolchain (normalize → cue → synthesize)."
readme = "README.md"
requires-python = ">=3.11"
authors = [
  { name = "Generative Agents Team" }
]
keywords = ["tts", "audiobook", "cue scripts", "laban"]
dependencies = [
  "fire>=0.5.0",
  "loguru>=0.7.2",
  "pydantic>=2.10.0",
  "langchain-core>=0.3.0,<1.0.0",
  "langchain-openai>=0.2.0,<1.0.0",
  "langchain-text-splitters>=0.1.0,<1.0.0",
  "tiktoken>=0.7.0",
  "unstructured[md]>=0.15.0",
  "pydub>=0.25.1",
]

[project.optional-dependencies]
tts = [
  "torchaudio>=2.2.0",
  "chatterbox-tts @ git+https://github.com/resemble-ai/chatterbox.git",
  "pykakasi==2.3.0",
  "pkuseg==0.0.25",
]
dev = [
  "pytest>=8.3.0",
  "pytest-asyncio>=0.23.0",
  "pyright>=1.1.377",
  "black>=24.8.0",
]

[tool.setuptools]
packages = ["audiobook_toolchain"]

[tool.setuptools.package-data]
audiobook_toolchain = ["*.txt"]

[tool.pyright]
include = ["audiobook_toolchain", "tests"]
exclude = ["**/node_modules", "**/__pycache__", "lib"]
strict = true

[tool.uv.pip]
prerelease = "allow"

[tool.pytest.ini_options]
testpaths = [
  "tests",
]
